import{h as te,c as Mt,d as Ut,a as pe,j as y,R as M,r as fe,u as Ce,e as It,f as Wt,i as Pt,k as Bt,l as xt,m as zt,n as ze,o as qt,p as Ht}from"./index-DBAE0IBT.js";import{T as G,c as lt,B as qe,l as bt,I as pt}from"./Button-CYZyihKH.js";const Gt="_h2_1awyl_1",Zt="_h3_1awyl_10",Kt="_h4_1awyl_19",Qt="_body_1awyl_28",Jt="_container_1awyl_37",Xt="_days_1awyl_42",Yt="_dates_1awyl_46",es="_date_1awyl_46",ts="_passive_1awyl_62",ss="_active_1awyl_65",rs="_events_1awyl_68",ae={h2:Gt,h3:Zt,h4:Kt,body:Qt,container:Jt,days:Xt,dates:Yt,date:es,passive:ts,active:ss,events:rs},is=e=>{const r=te(e),t=te(e).startOf("month").startOf("isoWeek"),a=te(e).endOf("month").endOf("isoWeek");return{firstMondayDateObject:t,currentDateObject:r,lastSundayDateObject:a}},as=e=>{const{firstMondayDateObject:r,currentDateObject:t,lastSundayDateObject:a}=is(e),l=[],n=t.month();for(let d=r;d<a;d=d.add(1,"day"))l.push({dateId:Mt(d),date:d.date(),status:d.month()===n?"active":"passive"});return l},ns=(e,r)=>{const t=Ut({startDateId:e,endDateId:r});return{data:t.data,isLoading:t.isLoading,isSuccess:t.isSuccess}},os=()=>{const e=pe(h=>h.calendar.dateId),r=as(e),t=r[0].dateId,a=r[r.length-1].dateId,{data:l}=ns(t,a),n=l==null?void 0:l.data,d=r.map(h=>{const b=n==null?void 0:n.filter(x=>te(h).isBetween(te(x.dateStart),te(x.dateEnd),"days","[]")||te(h).isSame(x.dateStart,"day")||te(h).isSame(x.dateEnd,"day")),w={...h};return w.events=b,w});return y.jsxs("article",{className:ae.container,children:[y.jsx("div",{className:ae.days,children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(h=>y.jsx("div",{className:ae.day,children:y.jsx(G,{styleName:"h3",children:h})},h))}),y.jsx("div",{className:ae.dates,children:d.map(h=>y.jsxs("div",{className:ae.date,children:[y.jsx(G,{styleName:"body",className:ae[h.status],children:h.date}),y.jsx("div",{className:ae.events})]},h.dateId))})]})},ls="_h2_1ed39_1",cs="_h3_1ed39_10",us="_h4_1ed39_19",ds="_body_1ed39_28",fs="_loginContainer_1ed39_37",hs="_registrationContainer_1ed39_44",ys="_title_1ed39_51",_s="_titleContainer_1ed39_58",ms="_noticeTextContainer_1ed39_64",gs="_noticeText_1ed39_64",ne={h2:ls,h3:cs,h4:us,body:ds,loginContainer:fs,registrationContainer:hs,title:ys,titleContainer:_s,noticeTextContainer:ms,noticeText:gs};var we=e=>e.type==="checkbox",he=e=>e instanceof Date,$=e=>e==null;const wt=e=>typeof e=="object";var T=e=>!$(e)&&!Array.isArray(e)&&wt(e)&&!he(e),vs=e=>T(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,xs=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bs=(e,r)=>e.has(xs(r)),ps=e=>{const r=e.constructor&&e.constructor.prototype;return T(r)&&r.hasOwnProperty("isPrototypeOf")},He=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(He&&(e instanceof Blob||e instanceof FileList))&&(t||T(e)))if(r=t?[]:{},!t&&!ps(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=P(e[a]));else return e;return r}var $e=e=>Array.isArray(e)?e.filter(Boolean):[],j=e=>e===void 0,_=(e,r,t)=>{if(!r||!T(e))return t;const a=$e(r.split(/[,[\].]+?/)).reduce((l,n)=>$(l)?l:l[n],e);return j(a)||a===e?j(e[r])?t:e[r]:a},se=e=>typeof e=="boolean",Ge=e=>/^\w*$/.test(e),Vt=e=>$e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let a=-1;const l=Ge(r)?[r]:Vt(r),n=l.length,d=n-1;for(;++a<n;){const h=l[a];let b=t;if(a!==d){const w=e[h];b=T(w)||Array.isArray(w)?w:isNaN(+l[a+1])?{}:[]}if(h==="__proto__")return;e[h]=b,e=e[h]}return e};const ct={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ws=M.createContext(null),Vs=()=>M.useContext(ws);var Fs=(e,r,t,a=!0)=>{const l={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const d=n;return r._proxyFormState[d]!==H.all&&(r._proxyFormState[d]=!a||H.all),e[d]}});return l},O=e=>T(e)&&!Object.keys(e).length,As=(e,r,t,a)=>{t(e);const{name:l,...n}=e;return O(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(d=>r[d]===H.all)},Ee=e=>Array.isArray(e)?e:[e];function js(e){const r=M.useRef(e);r.current=e,M.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var Z=e=>typeof e=="string",Es=(e,r,t,a,l)=>Z(e)?(a&&r.watch.add(e),_(t,e,l)):Array.isArray(e)?e.map(n=>(a&&r.watch.add(n),_(t,n))):(a&&(r.watchAll=!0),t),Ds=(e,r,t,a,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:l||!0}}:{},ut=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched}),dt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ve=(e,r,t,a)=>{for(const l of t||Object.keys(e)){const n=_(e,l);if(n){const{_f:d,...h}=n;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],l)&&!a)break;if(d.ref&&r(d.ref,d.name)&&!a)break;ve(h,r)}else T(h)&&ve(h,r)}}};var Ns=(e,r,t)=>{const a=Ee(_(e,t));return A(a,"root",r[t]),A(e,t,a),e},Ze=e=>e.type==="file",re=e=>typeof e=="function",Ne=e=>{if(!He)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},De=e=>Z(e),Ke=e=>e.type==="radio",Se=e=>e instanceof RegExp;const ft={value:!1,isValid:!1},ht={value:!0,isValid:!0};var Ft=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!j(e[0].attributes.value)?j(e[0].value)||e[0].value===""?ht:{value:e[0].value,isValid:!0}:ht:ft}return ft};const yt={isValid:!1,value:null};var At=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,yt):yt;function _t(e,r,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||se(e)&&!e)return{type:t,message:De(e)?e:"",ref:r}}var de=e=>T(e)&&!Se(e)?e:{value:e,message:""},mt=async(e,r,t,a,l)=>{const{ref:n,refs:d,required:h,maxLength:b,minLength:w,min:x,max:g,pattern:L,validate:U,name:D,valueAsNumber:X,mount:B,disabled:z}=e._f,p=_(r,D);if(!B||z)return{};const K=d?d[0]:n,Q=v=>{a&&K.reportValidity&&(K.setCustomValidity(se(v)?"":v||""),K.reportValidity())},N={},le=Ke(n),Ve=we(n),ie=le||Ve,ce=(X||Ze(n))&&j(n.value)&&j(p)||Ne(n)&&n.value===""||p===""||Array.isArray(p)&&!p.length,I=Ds.bind(null,D,t,N),Fe=(v,V,S,C=J.maxLength,q=J.minLength)=>{const W=v?V:S;N[D]={type:v?C:q,message:W,ref:n,...I(v?C:q,W)}};if(l?!Array.isArray(p)||!p.length:h&&(!ie&&(ce||$(p))||se(p)&&!p||Ve&&!Ft(d).isValid||le&&!At(d).isValid)){const{value:v,message:V}=De(h)?{value:!!h,message:h}:de(h);if(v&&(N[D]={type:J.required,message:V,ref:K,...I(J.required,V)},!t))return Q(V),N}if(!ce&&(!$(x)||!$(g))){let v,V;const S=de(g),C=de(x);if(!$(p)&&!isNaN(p)){const q=n.valueAsNumber||p&&+p;$(S.value)||(v=q>S.value),$(C.value)||(V=q<C.value)}else{const q=n.valueAsDate||new Date(p),W=me=>new Date(new Date().toDateString()+" "+me),ye=n.type=="time",_e=n.type=="week";Z(S.value)&&p&&(v=ye?W(p)>W(S.value):_e?p>S.value:q>new Date(S.value)),Z(C.value)&&p&&(V=ye?W(p)<W(C.value):_e?p<C.value:q<new Date(C.value))}if((v||V)&&(Fe(!!v,S.message,C.message,J.max,J.min),!t))return Q(N[D].message),N}if((b||w)&&!ce&&(Z(p)||l&&Array.isArray(p))){const v=de(b),V=de(w),S=!$(v.value)&&p.length>+v.value,C=!$(V.value)&&p.length<+V.value;if((S||C)&&(Fe(S,v.message,V.message),!t))return Q(N[D].message),N}if(L&&!ce&&Z(p)){const{value:v,message:V}=de(L);if(Se(v)&&!p.match(v)&&(N[D]={type:J.pattern,message:V,ref:n,...I(J.pattern,V)},!t))return Q(V),N}if(U){if(re(U)){const v=await U(p,r),V=_t(v,K);if(V&&(N[D]={...V,...I(J.validate,V.message)},!t))return Q(V.message),N}else if(T(U)){let v={};for(const V in U){if(!O(v)&&!t)break;const S=_t(await U[V](p,r),K,V);S&&(v={...S,...I(V,S.message)},Q(S.message),t&&(N[D]=v))}if(!O(v)&&(N[D]={ref:K,...v},!t))return N}}return Q(!0),N};function Ss(e,r){const t=r.slice(0,-1).length;let a=0;for(;a<t;)e=j(e)?a++:e[r[a++]];return e}function ks(e){for(const r in e)if(e.hasOwnProperty(r)&&!j(e[r]))return!1;return!0}function k(e,r){const t=Array.isArray(r)?r:Ge(r)?[r]:Vt(r),a=t.length===1?e:Ss(e,t),l=t.length-1,n=t[l];return a&&delete a[n],l!==0&&(T(a)&&O(a)||Array.isArray(a)&&ks(a))&&k(e,t.slice(0,-1)),e}var Ue=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}},ke=e=>$(e)||!wt(e);function oe(e,r){if(ke(e)||ke(r))return e===r;if(he(e)&&he(r))return e.getTime()===r.getTime();const t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(const l of t){const n=e[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=r[l];if(he(n)&&he(d)||T(n)&&T(d)||Array.isArray(n)&&Array.isArray(d)?!oe(n,d):n!==d)return!1}}return!0}var jt=e=>e.type==="select-multiple",Ts=e=>Ke(e)||we(e),Ie=e=>Ne(e)&&e.isConnected,Et=e=>{for(const r in e)if(re(e[r]))return!0;return!1};function Te(e,r={}){const t=Array.isArray(e);if(T(e)||t)for(const a in e)Array.isArray(e[a])||T(e[a])&&!Et(e[a])?(r[a]=Array.isArray(e[a])?[]:{},Te(e[a],r[a])):$(e[a])||(r[a]=!0);return r}function Dt(e,r,t){const a=Array.isArray(e);if(T(e)||a)for(const l in e)Array.isArray(e[l])||T(e[l])&&!Et(e[l])?j(r)||ke(t[l])?t[l]=Array.isArray(e[l])?Te(e[l],[]):{...Te(e[l])}:Dt(e[l],$(r)?{}:r[l],t[l]):t[l]=!oe(e[l],r[l]);return t}var Ae=(e,r)=>Dt(e,r,Te(r)),Nt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:a})=>j(e)?e:r?e===""?NaN:e&&+e:t&&Z(e)?new Date(e):a?a(e):e;function We(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Ze(r)?r.files:Ke(r)?At(e.refs).value:jt(r)?[...r.selectedOptions].map(({value:t})=>t):we(r)?Ft(e.refs).value:Nt(j(r.value)?e.ref.value:r.value,e)}var Cs=(e,r,t,a)=>{const l={};for(const n of e){const d=_(r,n);d&&A(l,n,d._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:a}},ge=e=>j(e)?e:Se(e)?e.source:T(e)?Se(e.value)?e.value.source:e.value:e,$s=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gt(e,r,t){const a=_(e,t);if(a||Ge(t))return{error:a,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),d=_(r,n),h=_(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};l.pop()}return{name:t}}var Os=(e,r,t,a,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?a.isOnBlur:l.isOnBlur)?!e:(t?a.isOnChange:l.isOnChange)?e:!0,Ls=(e,r)=>!$e(_(e,r)).length&&k(e,r);const Rs={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function Ms(e={}){let r={...Rs,...e},t={submitCount:0,isDirty:!1,isLoading:re(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},l=T(r.defaultValues)||T(r.values)?P(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:P(l),d={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b,w=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Ue(),array:Ue(),state:Ue()},L=ut(r.mode),U=ut(r.reValidateMode),D=r.criteriaMode===H.all,X=s=>i=>{clearTimeout(w),w=setTimeout(s,i)},B=async s=>{if(x.isValid||s){const i=r.resolver?O((await ie()).errors):await I(a,!0);i!==t.isValid&&g.state.next({isValid:i})}},z=(s,i)=>{(x.isValidating||x.validatingFields)&&((s||Array.from(h.mount)).forEach(o=>{o&&(i?A(t.validatingFields,o,i):k(t.validatingFields,o))}),g.state.next({validatingFields:t.validatingFields,isValidating:!O(t.validatingFields)}))},p=(s,i=[],o,f,u=!0,c=!0)=>{if(f&&o){if(d.action=!0,c&&Array.isArray(_(a,s))){const m=o(_(a,s),f.argA,f.argB);u&&A(a,s,m)}if(c&&Array.isArray(_(t.errors,s))){const m=o(_(t.errors,s),f.argA,f.argB);u&&A(t.errors,s,m),Ls(t.errors,s)}if(x.touchedFields&&c&&Array.isArray(_(t.touchedFields,s))){const m=o(_(t.touchedFields,s),f.argA,f.argB);u&&A(t.touchedFields,s,m)}x.dirtyFields&&(t.dirtyFields=Ae(l,n)),g.state.next({name:s,isDirty:v(s,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(n,s,i)},K=(s,i)=>{A(t.errors,s,i),g.state.next({errors:t.errors})},Q=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},N=(s,i,o,f)=>{const u=_(a,s);if(u){const c=_(n,s,j(o)?_(l,s):o);j(c)||f&&f.defaultChecked||i?A(n,s,i?c:We(u._f)):C(s,c),d.mount&&B()}},le=(s,i,o,f,u)=>{let c=!1,m=!1;const F={name:s},E=!!(_(a,s)&&_(a,s)._f&&_(a,s)._f.disabled);if(!o||f){x.isDirty&&(m=t.isDirty,t.isDirty=F.isDirty=v(),c=m!==F.isDirty);const R=E||oe(_(l,s),i);m=!!(!E&&_(t.dirtyFields,s)),R||E?k(t.dirtyFields,s):A(t.dirtyFields,s,!0),F.dirtyFields=t.dirtyFields,c=c||x.dirtyFields&&m!==!R}if(o){const R=_(t.touchedFields,s);R||(A(t.touchedFields,s,o),F.touchedFields=t.touchedFields,c=c||x.touchedFields&&R!==o)}return c&&u&&g.state.next(F),c?F:{}},Ve=(s,i,o,f)=>{const u=_(t.errors,s),c=x.isValid&&se(i)&&t.isValid!==i;if(e.delayError&&o?(b=X(()=>K(s,o)),b(e.delayError)):(clearTimeout(w),b=null,o?A(t.errors,s,o):k(t.errors,s)),(o?!oe(u,o):u)||!O(f)||c){const m={...f,...c&&se(i)?{isValid:i}:{},errors:t.errors,name:s};t={...t,...m},g.state.next(m)}},ie=async s=>{z(s,!0);const i=await r.resolver(n,r.context,Cs(s||h.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return z(s),i},ce=async s=>{const{errors:i}=await ie(s);if(s)for(const o of s){const f=_(i,o);f?A(t.errors,o,f):k(t.errors,o)}else t.errors=i;return i},I=async(s,i,o={valid:!0})=>{for(const f in s){const u=s[f];if(u){const{_f:c,...m}=u;if(c){const F=h.array.has(c.name);z([f],!0);const E=await mt(u,n,D,r.shouldUseNativeValidation&&!i,F);if(z([f]),E[c.name]&&(o.valid=!1,i))break;!i&&(_(E,c.name)?F?Ns(t.errors,E,c.name):A(t.errors,c.name,E[c.name]):k(t.errors,c.name))}!O(m)&&await I(m,i,o)}}return o.valid},Fe=()=>{for(const s of h.unMount){const i=_(a,s);i&&(i._f.refs?i._f.refs.every(o=>!Ie(o)):!Ie(i._f.ref))&&Oe(s)}h.unMount=new Set},v=(s,i)=>(s&&i&&A(n,s,i),!oe(Xe(),l)),V=(s,i,o)=>Es(s,h,{...d.mount?n:j(i)?l:Z(s)?{[s]:i}:i},o,i),S=s=>$e(_(d.mount?n:l,s,e.shouldUnregister?_(l,s,[]):[])),C=(s,i,o={})=>{const f=_(a,s);let u=i;if(f){const c=f._f;c&&(!c.disabled&&A(n,s,Nt(i,c)),u=Ne(c.ref)&&$(i)?"":i,jt(c.ref)?[...c.ref.options].forEach(m=>m.selected=u.includes(m.value)):c.refs?we(c.ref)?c.refs.length>1?c.refs.forEach(m=>(!m.defaultChecked||!m.disabled)&&(m.checked=Array.isArray(u)?!!u.find(F=>F===m.value):u===m.value)):c.refs[0]&&(c.refs[0].checked=!!u):c.refs.forEach(m=>m.checked=m.value===u):Ze(c.ref)?c.ref.value="":(c.ref.value=u,c.ref.type||g.values.next({name:s,values:{...n}})))}(o.shouldDirty||o.shouldTouch)&&le(s,u,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&me(s)},q=(s,i,o)=>{for(const f in i){const u=i[f],c=`${s}.${f}`,m=_(a,c);(h.array.has(s)||!ke(u)||m&&!m._f)&&!he(u)?q(c,u,o):C(c,u,o)}},W=(s,i,o={})=>{const f=_(a,s),u=h.array.has(s),c=P(i);A(n,s,c),u?(g.array.next({name:s,values:{...n}}),(x.isDirty||x.dirtyFields)&&o.shouldDirty&&g.state.next({name:s,dirtyFields:Ae(l,n),isDirty:v(s,c)})):f&&!f._f&&!$(c)?q(s,c,o):C(s,c,o),dt(s,h)&&g.state.next({...t}),g.values.next({name:d.mount?s:void 0,values:{...n}})},ye=async s=>{d.mount=!0;const i=s.target;let o=i.name,f=!0;const u=_(a,o),c=()=>i.type?We(u._f):vs(s),m=F=>{f=Number.isNaN(F)||F===_(n,o,F)};if(u){let F,E;const R=c(),ue=s.type===ct.BLUR||s.type===ct.FOCUS_OUT,Ot=!$s(u._f)&&!r.resolver&&!_(t.errors,o)&&!u._f.deps||Os(ue,_(t.touchedFields,o),t.isSubmitted,U,L),Re=dt(o,h,ue);A(n,o,R),ue?(u._f.onBlur&&u._f.onBlur(s),b&&b(0)):u._f.onChange&&u._f.onChange(s);const Me=le(o,R,ue,!1),Lt=!O(Me)||Re;if(!ue&&g.values.next({name:o,type:s.type,values:{...n}}),Ot)return x.isValid&&B(),Lt&&g.state.next({name:o,...Re?{}:Me});if(!ue&&Re&&g.state.next({...t}),r.resolver){const{errors:nt}=await ie([o]);if(m(R),f){const Rt=gt(t.errors,a,o),ot=gt(nt,a,Rt.name||o);F=ot.error,o=ot.name,E=O(nt)}}else z([o],!0),F=(await mt(u,n,D,r.shouldUseNativeValidation))[o],z([o]),m(R),f&&(F?E=!1:x.isValid&&(E=await I(a,!0)));f&&(u._f.deps&&me(u._f.deps),Ve(o,E,F,Me))}},_e=(s,i)=>{if(_(t.errors,i)&&s.focus)return s.focus(),1},me=async(s,i={})=>{let o,f;const u=Ee(s);if(r.resolver){const c=await ce(j(s)?s:u);o=O(c),f=s?!u.some(m=>_(c,m)):o}else s?(f=(await Promise.all(u.map(async c=>{const m=_(a,c);return await I(m&&m._f?{[c]:m}:m)}))).every(Boolean),!(!f&&!t.isValid)&&B()):f=o=await I(a);return g.state.next({...!Z(s)||x.isValid&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),i.shouldFocus&&!f&&ve(a,_e,s?u:h.mount),f},Xe=s=>{const i={...d.mount?n:l};return j(s)?i:Z(s)?_(i,s):s.map(o=>_(i,o))},Ye=(s,i)=>({invalid:!!_((i||t).errors,s),isDirty:!!_((i||t).dirtyFields,s),error:_((i||t).errors,s),isValidating:!!_(t.validatingFields,s),isTouched:!!_((i||t).touchedFields,s)}),kt=s=>{s&&Ee(s).forEach(i=>k(t.errors,i)),g.state.next({errors:s?t.errors:{}})},et=(s,i,o)=>{const f=(_(a,s,{_f:{}})._f||{}).ref,u=_(t.errors,s)||{},{ref:c,message:m,type:F,...E}=u;A(t.errors,s,{...E,...i,ref:f}),g.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&f&&f.focus&&f.focus()},Tt=(s,i)=>re(s)?g.values.subscribe({next:o=>s(V(void 0,i),o)}):V(s,i,!0),Oe=(s,i={})=>{for(const o of s?Ee(s):h.mount)h.mount.delete(o),h.array.delete(o),i.keepValue||(k(a,o),k(n,o)),!i.keepError&&k(t.errors,o),!i.keepDirty&&k(t.dirtyFields,o),!i.keepTouched&&k(t.touchedFields,o),!i.keepIsValidating&&k(t.validatingFields,o),!r.shouldUnregister&&!i.keepDefaultValue&&k(l,o);g.values.next({values:{...n}}),g.state.next({...t,...i.keepDirty?{isDirty:v()}:{}}),!i.keepIsValid&&B()},tt=({disabled:s,name:i,field:o,fields:f,value:u})=>{if(se(s)&&d.mount||s){const c=s?void 0:j(u)?We(o?o._f:_(f,i)._f):u;A(n,i,c),le(i,c,!1,!1,!0)}},Le=(s,i={})=>{let o=_(a,s);const f=se(i.disabled);return A(a,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...i}}),h.mount.add(s),o?tt({field:o,disabled:i.disabled,name:s,value:i.value}):N(s,!0,i.value),{...f?{disabled:i.disabled}:{},...r.progressive?{required:!!i.required,min:ge(i.min),max:ge(i.max),minLength:ge(i.minLength),maxLength:ge(i.maxLength),pattern:ge(i.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:u=>{if(u){Le(s,i),o=_(a,s);const c=j(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,m=Ts(c),F=o._f.refs||[];if(m?F.find(E=>E===c):c===o._f.ref)return;A(a,s,{_f:{...o._f,...m?{refs:[...F.filter(Ie),c,...Array.isArray(_(l,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),N(s,!1,void 0,c)}else o=_(a,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||i.shouldUnregister)&&!(bs(h.array,s)&&d.action)&&h.unMount.add(s)}}},st=()=>r.shouldFocusError&&ve(a,_e,h.mount),Ct=s=>{se(s)&&(g.state.next({disabled:s}),ve(a,(i,o)=>{const f=_(a,o);f&&(i.disabled=f._f.disabled||s,Array.isArray(f._f.refs)&&f._f.refs.forEach(u=>{u.disabled=f._f.disabled||s}))},0,!1))},rt=(s,i)=>async o=>{let f;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=P(n);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:m}=await ie();t.errors=c,u=m}else await I(a);if(k(t.errors,"root"),O(t.errors)){g.state.next({errors:{}});try{await s(u,o)}catch(c){f=c}}else i&&await i({...t.errors},o),st(),setTimeout(st);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},$t=(s,i={})=>{_(a,s)&&(j(i.defaultValue)?W(s,P(_(l,s))):(W(s,i.defaultValue),A(l,s,P(i.defaultValue))),i.keepTouched||k(t.touchedFields,s),i.keepDirty||(k(t.dirtyFields,s),t.isDirty=i.defaultValue?v(s,P(_(l,s))):v()),i.keepError||(k(t.errors,s),x.isValid&&B()),g.state.next({...t}))},it=(s,i={})=>{const o=s?P(s):l,f=P(o),u=O(s),c=u?l:f;if(i.keepDefaultValues||(l=o),!i.keepValues){if(i.keepDirtyValues)for(const m of h.mount)_(t.dirtyFields,m)?A(c,m,_(n,m)):W(m,_(c,m));else{if(He&&j(s))for(const m of h.mount){const F=_(a,m);if(F&&F._f){const E=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(Ne(E)){const R=E.closest("form");if(R){R.reset();break}}}}a={}}n=e.shouldUnregister?i.keepDefaultValues?P(l):{}:P(c),g.array.next({values:{...c}}),g.values.next({values:{...c}})}h={mount:i.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!i.keepIsValid||!!i.keepDirtyValues,d.watch=!!e.shouldUnregister,g.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:u?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!oe(s,l)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:u?{}:i.keepDirtyValues?i.keepDefaultValues&&n?Ae(l,n):t.dirtyFields:i.keepDefaultValues&&s?Ae(l,s):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},at=(s,i)=>it(re(s)?s(n):s,i);return{control:{register:Le,unregister:Oe,getFieldState:Ye,handleSubmit:rt,setError:et,_executeSchema:ie,_getWatch:V,_getDirty:v,_updateValid:B,_removeUnmounted:Fe,_updateFieldArray:p,_updateDisabledField:tt,_getFieldArray:S,_reset:it,_resetDefaultValues:()=>re(r.defaultValues)&&r.defaultValues().then(s=>{at(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Ct,_subjects:g,_proxyFormState:x,_setErrors:Q,get _fields(){return a},get _formValues(){return n},get _state(){return d},set _state(s){d=s},get _defaultValues(){return l},get _names(){return h},set _names(s){h=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:me,register:Le,handleSubmit:rt,watch:Tt,setValue:W,getValues:Xe,reset:at,resetField:$t,clearErrors:kt,unregister:Oe,setError:et,setFocus:(s,i={})=>{const o=_(a,s),f=o&&o._f;if(f){const u=f.refs?f.refs[0]:f.ref;u.focus&&(u.focus(),i.shouldSelect&&u.select())}},getFieldState:Ye}}function Qe(e={}){const r=M.useRef(),t=M.useRef(),[a,l]=M.useState({isDirty:!1,isValidating:!1,isLoading:re(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:re(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Ms(e),formState:a});const n=r.current.control;return n._options=e,js({subject:n._subjects.state,next:d=>{As(d,n._proxyFormState,n._updateFormState)&&l({...n._formState})}}),M.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),M.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==a.isDirty&&n._subjects.state.next({isDirty:d})}},[n,a.isDirty]),M.useEffect(()=>{e.values&&!oe(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,l(d=>({...d}))):n._resetDefaultValues()},[e.values,n]),M.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),M.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),M.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),r.current.formState=Fs(a,n),r.current}const Us=e=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e),Is="_h2_1vhz3_1",Ws="_h3_1vhz3_10",Ps="_h4_1vhz3_19",Bs="_body_1vhz3_28",zs="_container_1vhz3_37",qs="_label_1vhz3_42",Hs="_input_1vhz3_54",Gs="_focus_1vhz3_54",Zs="_labelText_1vhz3_57",Ks="_star_1vhz3_71",Qs="_inputWrapper_1vhz3_75",Js="_hasValue_1vhz3_98",Xs="_inputError_1vhz3_102",Y={h2:Is,h3:Ws,h4:Ps,body:Bs,container:zs,label:qs,input:Hs,focus:Gs,labelText:Zs,star:Ks,inputWrapper:Qs,hasValue:Js,inputError:Xs},xe=fe.forwardRef(({type:e="text",label:r,name:t,placeholder:a="",error:l,children:n,...d},h)=>{const b=t,[w,x]=fe.useState(!1),g=()=>{x(!0)},L=U=>{const D=U.target.value;x(!!D)};return y.jsx("div",{className:lt(Y.container,{[Y.inputError]:l==null?void 0:l.message}),children:y.jsxs("label",{className:Y.label,htmlFor:b,children:[y.jsxs(G,{styleName:"body",className:Y.labelText,children:[r,y.jsx("span",{className:Y.star,children:"*"})]}),y.jsxs("div",{className:Y.inputWrapper,children:[n,y.jsx("input",{className:lt(Y.input,{[Y.focus]:w}),id:b,type:e,name:t,placeholder:a,ref:h,onFocus:g,onChange:L,...d})]})]})})}),St=e=>{const r=/[.,:;?!*+%\-<>@[\]{}/\\_$#]/g;return!(e.length<8||e.length>32||!/[a-z]/.test(e)||!/[A-Z]/.test(e)||!/[0-9]/.test(e)||!r.test(e)||/\W/.test(e.replaceAll(r,"")))},Je="Используйте от 8 до 32 символов: строчные и прописные латинские буквы (A-z), цифры (0-9) и спецсимволы ( . , : ; ? ! * + % - < > @ [] { } / \\ _ {} $ # )",Ys="_h2_1joim_1",er="_h3_1joim_10",tr="_h4_1joim_19",sr="_body_1joim_28",rr="_form_1joim_37",ir="_inputWrapper_1joim_42",ar="_noticeText_1joim_48",Pe={h2:Ys,h3:er,h4:tr,body:sr,form:rr,inputWrapper:ir,noticeText:ar};var be=function(e){var r=e.as,t=e.errors,a=e.name,l=e.message,n=e.render,d=function(L,U){if(L==null)return{};var D,X,B={},z=Object.keys(L);for(X=0;X<z.length;X++)U.indexOf(D=z[X])>=0||(B[D]=L[D]);return B}(e,["as","errors","name","message","render"]),h=Vs(),b=_(t||h.formState.errors,a);if(!b)return null;var w=b.message,x=b.types,g=Object.assign({},d,{children:w||l});return fe.isValidElement(r)?fe.cloneElement(r,g):n?n({message:w||l,messages:x}):fe.createElement(r||fe.Fragment,g)};const nr=()=>{const{register:e,handleSubmit:r,setError:t,formState:a,getValues:l}=Qe({defaultValues:{email:""},mode:"onChange"}),n=Ce(),{isError:d}=It(l().email),h=()=>{const{email:b}=l();n(Wt({email:b})),n(d?Pt():Bt())};return y.jsxs(y.Fragment,{children:[y.jsxs("form",{className:Pe.form,children:[y.jsxs("div",{className:Pe.inputWrapper,children:[y.jsx(xe,{type:"email",label:"E-mail",placeholder:"",...e("email",{required:{value:!0,message:"Обязательное поле"},validate:b=>b&&!Us(b)?(t("email",{message:Je}),!1):!0}),error:a.errors.email}),y.jsx(be,{errors:a.errors,name:"email",render:({message:b})=>y.jsx(G,{styleName:"body",className:Pe.noticeText,children:b})})]}),y.jsx(qe,{component:"input",type:"button",value:"Далее",status:"primary",disabled:!a.isValid,onClick:r(h)})]}),y.jsx("div",{children:"something wrong..."})]})},or="_h2_8af6s_1",lr="_h3_8af6s_10",cr="_h4_8af6s_19",ur="_body_8af6s_28",dr="_form_8af6s_37",fr="_inputWrapper_8af6s_42",hr="_noticeText_8af6s_48",Be={h2:or,h3:lr,h4:cr,body:ur,form:dr,inputWrapper:fr,noticeText:hr},yr=()=>{const{register:e,handleSubmit:r,setError:t,formState:a,getValues:l}=Qe({defaultValues:{password:""},mode:"onChange"}),n=Ce(),d=pe(w=>w.user.email),[h]=xt(),b=()=>{const{password:w}=l();n(zt({password:w})),h({identifier:d,password:w}),bt(),n(ze())};return y.jsxs("form",{className:Be.form,children:[y.jsxs("div",{className:Be.inputWrapper,children:[y.jsx(xe,{type:"password",label:"Пароль",placeholder:"",...e("password",{required:{value:!0,message:"Обязательное поле"},validate:w=>w&&!St(w)?(t("password",{message:Je}),!1):!0}),error:a.errors.password}),y.jsx(be,{errors:a.errors,name:"password",render:({message:w})=>y.jsx(G,{styleName:"body",className:Be.noticeText,children:w})})]}),y.jsx(qe,{component:"input",type:"button",value:"Войти",status:"primary",disabled:!a.isValid,onClick:r(b)})]})},_r="_h2_13r6r_1",mr="_h3_13r6r_10",gr="_h4_13r6r_19",vr="_body_13r6r_28",xr="_form_13r6r_37",br="_widthLimitation_13r6r_43",pr="_inputWrapper_13r6r_49",wr="_noticeText_13r6r_55",ee={h2:_r,h3:mr,h4:gr,body:vr,form:xr,widthLimitation:br,inputWrapper:pr,noticeText:wr},Vr=()=>{const{register:e,handleSubmit:r,setError:t,formState:a,getValues:l,watch:n}=Qe({defaultValues:{firstName:"",password:"",repeatPassword:""},mode:"onChange"}),d=Ce(),h=pe(g=>g.user.email),[b]=qt(),[w]=xt(),x=()=>{const{firstName:g,password:L}=l();b({username:g,email:h,password:L}),w({identifier:h,password:L}),bt(),d(ze())};return y.jsx("form",{className:ee.form,children:y.jsxs("div",{className:ee.widthLimitation,children:[y.jsxs("div",{className:ee.inputWrapper,children:[y.jsx(xe,{type:"text",label:"Ваше имя",placeholder:"",...e("firstName",{required:{value:!0,message:"Обязательное поле"}}),error:a.errors.firstName}),y.jsx(be,{errors:a.errors,name:"firstName",render:({message:g})=>y.jsx(G,{styleName:"body",className:ee.noticeText,children:g})})]}),y.jsxs("div",{className:ee.inputWrapper,children:[y.jsx(xe,{type:"password",label:"Пароль",placeholder:"",...e("password",{required:{value:!0,message:"Обязательное поле"},validate:g=>g&&!St(g)?(t("password",{message:Je}),!1):!0}),error:a.errors.password}),y.jsx(be,{errors:a.errors,name:"password",render:({message:g})=>y.jsx(G,{styleName:"body",className:ee.noticeText,children:g})})]}),y.jsxs("div",{className:ee.inputWrapper,children:[y.jsx(xe,{type:"password",label:"Повторить пароль",placeholder:"",...e("repeatPassword",{required:{value:!0,message:"Обязательное поле"},validate:g=>n("password")!==g?(t("repeatPassword",{message:"Пароли не совпадают"}),!1):!0}),error:a.errors.repeatPassword}),y.jsx(be,{errors:a.errors,name:"repeatPassword",render:({message:g})=>y.jsx(G,{styleName:"body",className:ee.noticeText,children:g})})]}),y.jsx(qe,{component:"input",type:"submit",value:"Зарегистрироваться",status:"primary",disabled:!a.isValid,onClick:r(x)})]})})},Fr="_h2_m9c81_1",Ar="_h3_m9c81_10",jr="_h4_m9c81_19",Er="_body_m9c81_28",Dr="_shadow_m9c81_37",Nr="_modalContainer_m9c81_47",Sr="_button_m9c81_58",kr="_icon_m9c81_64",je={h2:Fr,h3:Ar,h4:jr,body:Er,shadow:Dr,modalContainer:Nr,button:Sr,icon:kr},vt=({width:e,closeModal:r,children:t})=>Ht.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{className:je.shadow}),y.jsxs("div",{className:je.modalContainer,style:{width:`${e}px`},children:[t,y.jsx("button",{className:je.button,onClick:r,children:y.jsx(pt,{name:"cross",className:je.icon})})]})]}),document.body),Tr="Используйте от 8 до 32 символов: строчные и прописные латинские буквы (A-z), цифры (0-9) и спец символы ( . , : ; ? ! * + % - < > @ [ ] { } /  _ {} $ # )",Cr=()=>{const e=Ce(),r=pe(a=>a.authenticationStepper.activeStep),t=()=>{e(ze())};return y.jsxs(y.Fragment,{children:[(r==="email"||r==="password")&&y.jsx(vt,{width:600,closeModal:t,children:y.jsxs("div",{className:ne.loginContainer,children:[y.jsx(G,{styleName:"h3",className:ne.title,children:"Вход"}),r==="email"&&y.jsx(nr,{}),r==="password"&&y.jsx(yr,{})]})}),r==="registration"&&y.jsx(vt,{width:710,closeModal:t,children:y.jsxs("div",{className:ne.registrationContainer,children:[y.jsxs("div",{className:ne.titleContainer,children:[y.jsx(G,{styleName:"h3",className:ne.title,children:"Регистрация"}),y.jsxs("div",{className:ne.noticeTextContainer,children:[y.jsx(pt,{name:"x16-info",width:24,height:24}),y.jsx(G,{styleName:"body",className:ne.noticeText,children:Tr})]})]}),y.jsx(Vr,{})]})})]})},Ur=()=>{const e=pe(r=>r.modal.authenticationModalVisible);return y.jsxs("main",{children:[y.jsx(os,{}),e&&y.jsx(Cr,{})]})};export{Ur as default};
